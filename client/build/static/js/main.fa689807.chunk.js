(this["webpackJsonprudakeest-client"]=this["webpackJsonprudakeest-client"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(14),i=n.n(a),r=n(19),s=n(5),l=n(6),o=n(8),u=n(7),c=n(2),m=n(9),h=n(3),d=n(0),f=n.n(d),v=n(20),b=n.n(v),p=n(11),y=(n(18),n(13)),E=d.createContext(),O={font:"Lusitana",animation:"Fade",option:"Verse-by-verse"},S=function(e,t){switch(t.type){case"FONTS":return Object(y.a)({},e,{font:t.payload});case"ANIMATIONS":return Object(y.a)({},e,{animation:t.payload});case"FORMATTING":return Object(y.a)({},e,{option:t.payload})}};function g(e){var t=d.useReducer(S,O),n=Object(p.a)(t,2),a={state:n[0],dispatch:n[1]};return d.createElement(E.Provider,{value:a},e.children)}var j=E.Consumer,k=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"menu"},f.a.createElement("div",{className:"menu-headers menu-logo"},"rudakeest"),f.a.createElement("div",{className:"menu-subheader"},"a poetry animation service"),f.a.createElement("div",{className:"menu-subheader"},"by ",f.a.createElement("a",{href:"https://github.com/volb"},"@volb")),f.a.createElement(w,{name:"FONTS"}),f.a.createElement(w,{name:"ANIMATIONS"}),f.a.createElement(w,{name:"FORMATTING"}))}}]),t}(f.a.Component);function w(e){var t=Object(d.useState)(0),n=Object(p.a)(t,2),a=n[0],i=n[1];return f.a.createElement("div",{className:"menu-option"},f.a.createElement("div",{className:"menu-headers"},e.name),[0,1,2].map((function(t){return f.a.createElement(N,{name:e.name,active:t===a,onClick:function(){return i(t)},number:t})})))}function N(e){var t=f.a.useContext(E),n=t.state,a=t.dispatch;return f.a.useEffect((function(){document.getElementById("input-forms").style.fontFamily=n.font}),[n.font]),f.a.createElement("div",{className:"mb",onClick:function(){var t,n;t=e.name,n=e.number,a({type:t,payload:F[t][n]})}},f.a.createElement("div",{onClick:e.onClick,className:e.active?"day active":"day"},F[e.name][e.number]))}var F={FONTS:["Lusitana","Gotu","Inria Serif"],ANIMATIONS:["Fade","Rise","Slide"],FORMATTING:["Verse-by-verse","By stanza","Entire text"]},C=k,A=(n(31),n(12)),I=n(4),M=n(21),T=n.n(M);function P(){var e=Object(h.a)(["\n  animation: 5s ",";\n"]);return P=function(){return e},e}function x(){var e=Object(h.a)(["",""]);return x=function(){return e},e}function R(){var e=Object(h.a)(["\n  animation: 5s ",";\n"]);return R=function(){return e},e}function z(){var e=Object(h.a)(["",""]);return z=function(){return e},e}function D(){var e=Object(h.a)(["\n  animation: 5s ",";\n"]);return D=function(){return e},e}function L(){var e=Object(h.a)(["",""]);return L=function(){return e},e}var K=Object(I.b)(L(),A.fadeIn),B=I.a.div(D(),K),G=Object(I.b)(z(),A.fadeInLeft),U=I.a.div(R(),G),V=Object(I.b)(x(),A.fadeInUp),J=I.a.div(P(),V);function W(e){switch(e.animation){case"Fade":return f.a.createElement(B,null,e.children);case"Slide":return f.a.createElement(U,null,e.children);case"Rise":return f.a.createElement(J,null,e.children);default:return f.a.createElement("div",null,e.children)}}var q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={poem:n.props.defaultText,wholePoem:[],splitPoem:[],stanzas:[],name:e.name,position:0,isEditingPoem:0},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.poemStyle=n.poemStyle.bind(Object(c.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(c.a)(n)),n.withStanzaMarkers=n.withStanzaMarkers.bind(Object(c.a)(n)),n.generateRandomPoem=n.generateRandomPoem.bind(Object(c.a)(n)),n.editingStyle=n.editingStyle.bind(Object(c.a)(n)),n.handleFullScreenChange=n.handleFullScreenChange.bind(Object(c.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({poem:e.target.value}),this.setState({isEditingPoem:1})}},{key:"generateRandomPoem",value:function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"poem here",t="poem here".result.length,Math.floor(Math.random()*Math.floor(t)),this.setState({poem:"poem here".result[0]}),e.abrupt("return","poem here");case 4:case"end":return e.stop()}var t}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({splitPoem:this.withStanzaMarkers(this.state.poem.split("\n"))}),this.setState({stanzas:this.state.poem.split("\n\n")}),this.setState({wholePoem:[this.state.poem]}),this.setState({isEditingPoem:2})}},{key:"poemStyle",value:function(e){switch(e){case"Verse-by-verse":return this.state.splitPoem;case"Entire text":return this.state.wholePoem;case"By stanza":return this.state.stanzas;default:return""}}},{key:"editingStyle",value:function(e){switch(e){case 0:return"";case 1:return"\u22ef";case 2:return"\u2713";default:return""}}},{key:"withStanzaMarkers",value:function(e){var t=[];t.push(e[0]);for(var n=1;n<e.length;n++)t[n]=e[n];for(var a=1;a<e.length;a++)0===e[a].trim().length&&a<e.length-1&&(t[a+1]=e[a+1]+"\n\u2042");return t.filter((function(e){return" "!==e&&""!==e}))}},{key:"poemAnimate",value:function(e){var t=!0,n=!1,a=void 0;try{for(var i,r=e[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;return f.a.createElement("div",null,s)}}catch(l){n=!0,a=l}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("fullscreenchange",this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("fullscreenchange",this.handleFullScreenChange)}},{key:"handleFullScreenChange",value:function(){this.setState({position:0})}},{key:"handleKeyDown",value:function(e){switch(e.key){case"ArrowLeft":this.setState({position:this.state.position-1});break;case"ArrowRight":this.setState({position:this.state.position+1})}}},{key:"render",value:function(){var e=this;return this.props.shouldAnimate?""===this.state.poem?"":this.props.shouldAnimate?f.a.createElement(j,null,(function(t){return f.a.createElement("div",{id:"animated-input",onKeyDown:e.handleKeyDown},f.a.createElement(W,{animation:t.state.animation,key:e.state.position},e.poemStyle(t.state.option)[e.state.position]))})):void 0:f.a.createElement("div",null,f.a.createElement("form",{onSubmit:this.handleSubmit},f.a.createElement("label",{className:"enter-label"},"Enter the ",this.state.name,":"),f.a.createElement("textarea",{value:this.state.poem,onChange:this.handleChange}),f.a.createElement("input",{className:"button1",type:"submit",value:"Save"}),f.a.createElement("div",{className:"checkmark"},this.editingStyle(this.state.isEditingPoem))))}}]),t}(f.a.Component),H=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isFull:!1,animationText:"Animate"},n.MenuActivate=n.MenuActivate.bind(Object(c.a)(n)),n.goFull=n.goFull.bind(Object(c.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"goFull",value:function(){this.setState({isFull:!0})}},{key:"MenuActivate",value:function(){document.getElementsByClassName("menu")[0].style.display="none"}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{id:"main-box"},f.a.createElement(g,null,f.a.createElement(C,null),f.a.createElement("div",{className:"container"},f.a.createElement(T.a,{enabled:this.state.isFull,onChange:function(t){return e.setState({isFull:t})}},f.a.createElement("div",{id:this.state.isFull?"fullscreen-forms":"input-forms"},f.a.createElement(q,{name:"poem",defaultText:"\u067e\u0648\u067e\u06a9 \u062f\u064a\u062f\u0645 \u0628\u0647 \u062d\u0648\u0627\u0644\u06cc \u0633\u0631\u062e\u0633\n\u0628\u0627\u0646\u06af\u06a9 \u0628\u0631 \u0628\u0631\u062f\u0647 \u0628\u0647 \u0627 \u0628\u0631 \u0627\u0646\u062f\u0631\u0627\n\u0686\u0627\u062f\u0631 \u06a9\u06cc \u062f\u064a\u062f\u0645 \u0631\u0646\u06af\u064a\u0646 \u0628\u0631\u0648\n\u0631\u0646\u06af \u0628\u0633\u06cc \u06af\u0648\u0646\u0647 \u0628\u0631 \u0622\u0646 \u0686\u0627\u062f\u0631\u0627\n\u06cc\u0627 \u067e\u0631\u063a\u0648\u0646\u0647 \u0648 \u0628\u0627\u0698\u06af\u0648\u0646\u0647 \u062c\u0647\u0627\u0646\n\u0645\u0627\u0646\u062f\u0647 \u0645\u0646 \u0627\u0632 \u062a\u0648 \u0628\u0647 \u0634\u06af\u0641\u062a \u0627\u0646\u062f\u0631\u0627\n",shouldAnimate:this.state.isFull}),f.a.createElement(q,{name:"translation",defaultText:"I saw a hoopoe near Sarakhs\nWhose little song reached the clouds.\nShe was wearing a little cloak\nOf many different colors.\nO ugly and inverted world,\nI stand before you in awe.",shouldAnimate:this.state.isFull}))),f.a.createElement("p",null,"Press Animate to go fullscreen. Use left and right arrow keys to navigate."),f.a.createElement("div",{className:"animate-button"},f.a.createElement("button",{className:"button1",onClick:this.goFull},this.state.animationText)))))}}]),t}(f.a.Component);b.a.render(f.a.createElement(H,null),document.getElementById("root"))},18:function(e,t,n){},25:function(e,t,n){e.exports=n(115)},31:function(e,t,n){}},[[25,1,2]]]);
//# sourceMappingURL=main.fa689807.chunk.js.map